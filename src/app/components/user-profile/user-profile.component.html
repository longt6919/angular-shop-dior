<div
  class="position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50 d-flex justify-content-center align-items-start pt-5 z-3"
>
  <div
    class="bg-white p-4 rounded shadow-lg"
    style="width: 400px; max-width: 90%; max-height: 90vh; overflow-y: auto;"
  >
    <h5 class="text-center fw-bold text-primary mb-4">Thông tin người dùng</h5>

    <form [formGroup]="userProfileForm">

      <!-- Họ và tên -->
      <div class="mb-3">
        <label class="form-label">Họ và tên</label>
        <input type="text" class="form-control" formControlName="fullname" placeholder="Nguyen Van A"
          [class.is-invalid]="userProfileForm.get('fullname')!.invalid && userProfileForm.get('fullname')!.touched">
        <div *ngIf="userProfileForm.get('fullname')!.invalid && userProfileForm.get('fullname')!.touched"
             class="invalid-feedback">
          Họ và tên là trường bắt buộc.
        </div>
      </div>

      <!-- Địa chỉ -->
      <div class="mb-3">
        <label class="form-label">Địa chỉ</label>
        <input type="text" class="form-control" formControlName="address" placeholder="123 Đường ABC, Hà Nội"
          [class.is-invalid]="userProfileForm.get('address')!.invalid && userProfileForm.get('address')!.touched">
        <div *ngIf="userProfileForm.get('address')!.invalid && userProfileForm.get('address')!.touched"
             class="invalid-feedback">
          Địa chỉ ít nhất 3 ký tự.
        </div>
      </div>

      <!-- Ngày sinh -->
      <div class="mb-3">
        <label class="form-label">Ngày sinh</label>
        <input type="date" class="form-control" formControlName="date_of_birth">
      </div>

      <!-- Mật khẩu hiện tại -->
      <div class="mb-3">
        <label class="form-label">Mật khẩu hiện tại</label>
        <input type="password" class="form-control" formControlName="current_password" placeholder="Mật khẩu hiện tại"
          [class.is-invalid]="userProfileForm.get('current_password')!.invalid && userProfileForm.get('current_password')!.touched">
        <div *ngIf="userProfileForm.get('current_password')!.invalid && userProfileForm.get('current_password')!.touched"
             class="invalid-feedback">
          Bạn phải nhập đúng thông tin.
        </div>
      </div>

      <!-- Mật khẩu mới -->
      <div class="mb-3">
        <label class="form-label">Mật khẩu mới</label>
        <input type="password" class="form-control" formControlName="password" placeholder="Mật khẩu mới"
          [class.is-invalid]="userProfileForm.get('password')!.invalid && userProfileForm.get('password')!.touched">
        <div *ngIf="userProfileForm.get('password')!.invalid && userProfileForm.get('password')!.touched"
             class="invalid-feedback">
          Mật khẩu ít nhất 3 ký tự.
        </div>
      </div>

      <!-- Nhập lại mật khẩu mới -->
      <div class="mb-3">
        <label class="form-label">Nhập lại mật khẩu mới</label>
        <input type="password" class="form-control" formControlName="retype_password" placeholder="Nhập lại mật khẩu"
          [class.is-invalid]="userProfileForm.hasError('passwordMismatch') && userProfileForm.get('retype_password')!.touched">
        <div *ngIf="userProfileForm.hasError('passwordMismatch') && userProfileForm.get('retype_password')!.touched"
             class="invalid-feedback">
          Mật khẩu không khớp.
        </div>
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-between">
        <button type="button" routerLink="/" class="btn btn-secondary">Hủy</button>
        <button type="button" class="btn btn-primary" (click)="save()">Lưu thay đổi</button>
      </div>
    </form>
  </div>
</div>
