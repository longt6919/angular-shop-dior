<link 
  rel="stylesheet" 
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
>

<header id="mainHeader" class="bg-white border-bottom py-3 sticky-top shadow-sm">
  <div class="container-custom  d-flex align-items-center justify-content-between flex-wrap">
    <!-- Logo -->
    <div class="logo me-4">
      <img src="https://shopping.saigoncentre.com.vn/Data/Sites/1/Brand/244/logo/dior-_-logo-2.jpg" alt="VPS Fashion" height="50" routerLink="/" (click)="resetAll()"/>
    </div>

    <!-- Menu -->
    <nav class="d-flex flex-grow-1 align-items-center flex-wrap">
      <a routerLink="/" (click)="resetAll()" class="nav-link text-dark px-2 fw-medium">Trang chủ</a>
 <select class="nav-link text-dark px-2 fw-medium"
        [(ngModel)]="selectedCategoryId"
        (change)="onChange('category')"
        required>
  <option [ngValue]="null" selected disabled>Danh Mục</option>
  <option *ngFor="let category of categories" [ngValue]="category.id">
    {{ category.name }}
  </option>
</select>
<select class="nav-link text-dark px-2 fw-medium"
        [(ngModel)]="selectedStyleId"
        (change)="onChange('style')"
        required>
  <option [ngValue]="null" selected disabled>Phong Cách</option>
  <option *ngFor="let style of styles" [ngValue]="style.id">
    {{ style.name }}
  </option>
</select>      
<select class="nav-link text-dark px-2 fw-medium"
        [(ngModel)]="selectedBrandId"
        (change)="onChange('brand')"
        required>
  <option [ngValue]="null" selected disabled>Thương hiệu</option>
  <option *ngFor="let brand of brands" [ngValue]="brand.id">
    {{ brand.name }}
  </option>
</select> 
<a routerLink="/introduces" class="nav-link text-dark px-2 fw-medium">Về chúng tôi</a>

      <!-- Search -->
      <div class="ms-auto d-flex align-items-center mt-2 mt-md-0 header-search">
        <i class="bi bi-search me-2 search-icon"></i>
        <input type="text" class="form-control form-control-sm me-2" 
        placeholder="Bạn muốn tìm gì..." [(ngModel)]="keyword">
        <button class="btn btn-secondary btn-sm" (click)="searchHeader()">Tìm kiếm</button>
      </div>
    </nav>

    <!-- Icons -->
    <div class="icons d-flex align-items-center ms-4 mt-4 mt-md-0 fs-5">
      <i class="bi bi-heart me-4 icon-action" title="Yêu thích"></i>
      <i class="bi bi-cart3 me-4 icon-action" title="Giỏ hàng" data-bs-toggle="offcanvas"
        data-bs-target="#cartSidebar" 
        routerLinkActive="active"
        routerLink="/orders"
        [routerLinkActiveOptions]="{ exact: true }"></i>
      <div class="position-relative">
       <ng-container *ngIf="userResponse">
            <a
              class="nav-link"
              [ngbPopover]="popoverContent"
              popoverTitle="User Actions"
              triggers="click"
              placement="bottom"
            >
              {{ userResponse.fullname }}
            </a>
            <ng-template #popoverContent>
              <div class="popover-list">
                <a class="popover-item" (click)="handleItemClick(0)"
                  routerLink="/user-profile" >Tài khoản của tôi</a>
                <a class="popover-item" (click)="handleItemClick(1)"
                   routerLink="/order-history" >Đơn mua</a>
                <a class="popover-item" (click)="handleItemClick(2)"
                  >Đăng xuất</a>
              </div>
            </ng-template>
          </ng-container>
            <ng-container *ngIf="!userResponse">
                    <i class="bi bi-person-circle fs-3 " 
                    routerLink="/login"style="cursor: pointer;"></i>
          </ng-container>
      </div>
    </div>
  </div>
</header>